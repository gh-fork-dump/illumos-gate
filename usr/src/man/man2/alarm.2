.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\"
.\" Copyright 1989 AT&T
.\" Copyright (c) 20077, Sun Microsystems, Inc. All Rights Reserved
.\"
.Dd June 6, 2007
.Dt ALARM 2
.Os
.Sh NAME
.Nm alarm
.Nd schedule an alarm signal
.Sh SYNOPSIS
.In unistd.h
.Ft "unsigned int"
.Fn alarm "unsigned int seconds"
.Sh DESCRIPTION
The
.Fn alarm
function causes the system to generate a
.Dv SIGALRM
signal for the process after the number of real-time seconds specified by
.Fa seconds
have elapsed
.Pq see Xr signal.h 3HEAD .
Processor scheduling delays may prevent the process from handling the signal as
soon as it is generated.
.Pp
If
.Fa seconds
is 0, a pending alarm request, if any, is cancelled.
If
.Fa seconds
is greater than
.Dv LONG_MAX / hz ,
.Fa seconds
is rounded down to
.Dv LONG_MAX / hz .
The value of
.Va hz
is normally 100.
.Pp
Alarm requests are not stacked; only one
.Dv SIGALRM
generation can  be scheduled in this manner; if the
.Dv SIGALRM
signal has not yet been generated, the call will result in rescheduling the
time at which the
.Dv SIGALRM
signal will be generated.
.Pp
The
.Xr fork 2
function clears pending alarms in the child process.
A new process image created by one of the
.Xr exec 2
functions inherits the time left to an alarm signal in the old process's image.
.Sh RETURN VALUES
If there is a previous alarm request with time  remaining,
.Fn alarm
returns a non-zero value that is the number of seconds until the previous
request would have generated a
.Dv SIGALRM
signal.
Otherwise,
.Fa alarm
returns 0.
.Sh ERRORS
The
.Fn alarm
function is always successful; no return value is reserved to indicate an
error.
.Sh INTERFACE STABILITY
.Sy Standard
.Sh MT-LEVEL
.Sy Async-Signal-Safe
.Sh SEE ALSO
.Xr exec 2 ,
.Xr fork 2 ,
.Xr signal.h 3HEAD ,
.Xr attributes 5 ,
.Xr standards 5
