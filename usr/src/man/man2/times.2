.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\"
.\" Copyright 1989 AT&T
.\" Copyright (c) 1997, Sun Microsystems, Inc. All Rights Reserved
.\"
.Dd May 14, 1997
.Dt TIMES 2
.Os
.Sh NAME
.Nm times
.Nd get process and child process times
.Sh SYNOPSIS
.In sys/times.h
.In limits.h
.Ft clock_t
.Fn times "struct tms *buffer"
.Sh DESCRIPTION
The
.Fn times
function fills the
.Vt tms
structure pointed to by
.Fa buffer
with time-accounting information.
The
.Vt tms
structure, defined in
.In sys/times.h ,
contains the following members:
.Bd -literal -offset indent
clock_t	tms_utime;
clock_t	tms_stime;
clock_t	tms_cutime;
clock_t	tms_cstime;
.Ed
.Pp
All times are reported in clock ticks.
The specific value for a clock tick is defined by the variable
.Dv CLK_TCK ,
found in the header
.In limits.h .
.Pp
The times of a terminated child process are included in the
.Va tms_cutime
and
.Va tms_cstime
members of the parent when
.Xr wait 3C
or
.Xr waitpid 3C
returns the process ID of this terminated child.
If a child process has not waited for its children, their times will not be
included in its times.
.Pp
The
.Va tms_utime
member is the CPU time used while executing instructions in the user space of
the calling process.
.Pp
The
.Va tms_stime
member is the CPU time used by the system on behalf of the calling process.
.Pp
The
.Va tms_cutime
member is the sum of the
.Va tms_utime
and the
.Va tms_cutime
of the child processes.
.Pp
The
.Va tms_cstime
member is the sum of the
.Va tms_stime
and the
.Va tms_cstime
of the child processes.
.Sh RETURN VALUES
Upon successful completion,
.Fn times
returns the elapsed real time, in clock ticks, since an arbitrary point in the
past (for example, system start-up time).
This point does not change from one invocation of
.Fn times
within the process to another.
The return value may overflow the possible range of
type
.Vt clock_t .
If
.Fn times
fails,
.Po Vt clock_t Pc Ns -1
is returned and the global variable
.Va errno
is set to indicate the error.
.Sh ERRORS
The
.Fn times
function will fail if:
.Bl -tag -width Er
.It Bq Er EFAULT
The
.Fa buffer
argument points to an illegal address.
.El
.Sh INTERFACE STABILITY
.Sy Standard
.Sh MT-LEVEL
.Sy Async-Signal-Safe
.Sh SEE ALSO
.Xr time 1 ,
.Xr timex 1 ,
.Xr exec 2 ,
.Xr fork 2 ,
.Xr time 2 ,
.Xr waitid 2 ,
.Xr wait 3C ,
.Xr waitpid 3C ,
.Xr attributes 5 ,
.Xr standards 5
