.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\"
.\" Copyright 1989 AT&T
.\" Copyright (c) 1997, Sun Microsystems, Inc. All Rights Reserved
.\"
.Dd December 28, 1996
.Dt SETPGID 2
.Os
.Sh NAME
.Nm setpgid
.Nd set process group ID
.Sh SYNOPSIS
.In sys/types.h
.In unistd.h
.Ft int
.Fn setpgid "pid_t pid" "pid_t pgid"
.Sh DESCRIPTION
The
.Fn setpgid
function sets the process group ID of the process with ID
.Fa pid
to
.Fa pgid .
.Pp
If
.Fa pgid
is equal to
.Fa pid ,
the process becomes a process group leader.
See
.Xr Intro 2
for more information on session leaders and process group leaders.
.Pp
If
.Fa pgid
is not equal to
.Fa pid ,
the process becomes a member of an existing process group.
.Pp
If
.Fa pid
is equal to 0, the process ID of the calling process is used.
If
.Fa pgid
is equal to 0, the process specified by pid becomes a process group leader.
.Sh RETURN VALUES
.Rv -std
.Sh ERRORS
The
.Fn setpgid
function will fail if:
.Bl -tag -width Er
.It Bq Er EACCES
The
.Fa pid
argument matches the process ID of a child process of the calling process and
the child process has successfully executed one of the
.Xr exec 2
family of functions.
.It Bq Er EINVAL
The
.Fa pgid
argument is less than
.Po Vt pid_t Pc Ns 0
or greater than or equal to
.Dv PID_MAX ,
or the calling process has a controlling terminal that does not support job
control.
.It Bq Er EPERM
The process indicated by the
.Fa pid
argument is a session leader.
.It Bq Er EPERM
The
.Fa pid
argument matches the process ID of a child process of the calling process and
the child process is not in the same session as the calling process.
.It Bq Er EPERM
The
.Fa pgid
argument does not match the process ID of the process indicated by the
.Fa pid
argument, and there is no process with a process group ID that matches
.Fa pgid
in the same session as the calling process.
.It Bq Er ESRCH
The
.Fa pid
argument does not match the process ID of the calling process or of a child
process of the calling process.
.El
.Sh INTERFACE STABILITY
.Sy Standard
.Sh MT-LEVEL
.Sy Async-Signal-Safe
.Sh SEE ALSO
.Xr exec 2 ,
.Xr exit 2 ,
.Xr fork 2 ,
.Xr getpid 2 ,
.Xr getsid 2 ,
.Xr Intro 2 ,
.Xr attributes 5 ,
.Xr standards 5
